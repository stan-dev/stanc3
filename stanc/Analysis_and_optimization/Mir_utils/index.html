<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mir_utils (stanc.Analysis_and_optimization.Mir_utils)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../';
let search_urls = ['../../db.js','../../../sherlodoc.js'];
</script><script src="../../../odoc.support/odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">stanc</a> &#x00BB; <a href="../index.html">Analysis_and_optimization</a> &#x00BB; Mir_utils</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="ðŸ”Ž Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module <code><span>Analysis_and_optimization.Mir_utils</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-var_declarations"><a href="#val-var_declarations" class="anchor"></a><code><span><span class="keyword">val</span> var_declarations : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../Middle/Stmt/index.html#type-t">Middle.Stmt.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-num_expr_value"><a href="#val-num_expr_value" class="anchor"></a><code><span><span class="keyword">val</span> num_expr_value : <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(float * string)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-bound_values"><a href="#type-bound_values" class="anchor"></a><code><span><span class="keyword">type</span> bound_values</span><span> = </span><span>{</span></code><ol><li id="type-bound_values.lower" class="def record field anchored"><a href="#type-bound_values.lower" class="anchor"></a><code><span>lower : <span>[ `None <span>| `Nonlit</span> <span><span>| `Lit</span> of float</span> ]</span>;</span></code></li><li id="type-bound_values.upper" class="def record field anchored"><a href="#type-bound_values.upper" class="anchor"></a><code><span>upper : <span>[ `None <span>| `Nonlit</span> <span><span>| `Lit</span> of float</span> ]</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-trans_bounds_values"><a href="#val-trans_bounds_values" class="anchor"></a><code><span><span class="keyword">val</span> trans_bounds_values : 
  <span><span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Transformation/index.html#type-t">Middle.Transformation.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-bound_values">bound_values</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-chop_dist_name"><a href="#val-chop_dist_name" class="anchor"></a><code><span><span class="keyword">val</span> chop_dist_name : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="xref-unresolved">Core</span>.Option.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-top_var_declarations"><a href="#val-top_var_declarations" class="anchor"></a><code><span><span class="keyword">val</span> top_var_declarations : <span><a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-function_names"><a href="#val-function_names" class="anchor"></a><code><span><span class="keyword">val</span> function_names : <span><a href="../../Middle/Program/Typed/index.html#type-t">Middle.Program.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-data_set"><a href="#val-data_set" class="anchor"></a><code><span><span class="keyword">val</span> data_set : 
  <span><span class="optlabel">?exclude_transformed</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?exclude_ints</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Program/Typed/index.html#type-t">Middle.Program.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parameter_set"><a href="#val-parameter_set" class="anchor"></a><code><span><span class="keyword">val</span> parameter_set : 
  <span><span class="optlabel">?include_transformed</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Program/Typed/index.html#type-t">Middle.Program.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string
   * <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Transformation/index.html#type-t">Middle.Transformation.t</a></span>
   * <a href="../../Middle/Location_span/index.html#type-t">Middle.Location_span.t</a>)</span>
    <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parameter_names_set"><a href="#val-parameter_names_set" class="anchor"></a><code><span><span class="keyword">val</span> parameter_names_set : 
  <span><span class="optlabel">?include_transformed</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Program/Typed/index.html#type-t">Middle.Program.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_expr"><a href="#val-fold_expr" class="anchor"></a><code><span><span class="keyword">val</span> fold_expr : 
  <span><span class="label">take_expr</span>:<span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">init</span>:<span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'c</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_stmts"><a href="#val-fold_stmts" class="anchor"></a><code><span><span class="keyword">val</span> fold_stmts : 
  <span><span class="label">take_expr</span>:<span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">take_stmt</span>:<span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">init</span>:<span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> <span class="xref-unresolved">Core</span>.List.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'c</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_rec_expr"><a href="#val-map_rec_expr" class="anchor"></a><code><span><span class="keyword">val</span> map_rec_expr : 
  <span><span>(<span><span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Expr/Pattern/index.html#type-t">Middle.Expr.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Expr/Pattern/index.html#type-t">Middle.Expr.Pattern.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_rec_expr_state"><a href="#val-map_rec_expr_state" class="anchor"></a><code><span><span class="keyword">val</span> map_rec_expr_state : 
  <span><span>(<span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Expr/Pattern/index.html#type-t">Middle.Expr.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Expr/Pattern/index.html#type-t">Middle.Expr.Pattern.t</a></span> * <span class="type-var">'s</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> * <span class="type-var">'s</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_rec_stmt_loc"><a href="#val-map_rec_stmt_loc" class="anchor"></a><code><span><span class="keyword">val</span> map_rec_stmt_loc : 
  <span><span>(<span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-top_down_map_rec_stmt_loc"><a href="#val-top_down_map_rec_stmt_loc" class="anchor"></a><code><span><span class="keyword">val</span> top_down_map_rec_stmt_loc : 
  <span><span>(<span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_rec_state_stmt_loc"><a href="#val-map_rec_state_stmt_loc" class="anchor"></a><code><span><span class="keyword">val</span> map_rec_state_stmt_loc : 
  <span><span>(<span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> * <span class="type-var">'s</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> * <span class="type-var">'s</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_rec_stmt_loc_num"><a href="#val-map_rec_stmt_loc_num" class="anchor"></a><code><span><span class="keyword">val</span> map_rec_stmt_loc_num : 
  <span><span><span>(int, <a href="../../Middle/Stmt/Located/Non_recursive/index.html#type-t">Middle.Stmt.Located.Non_recursive.t</a>)</span> <span class="xref-unresolved">Core</span>.Map.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span>
    <span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Stmt/Located/Non_recursive/index.html#type-t">Middle.Stmt.Located.Non_recursive.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stmt_loc_of_stmt_loc_num"><a href="#val-stmt_loc_of_stmt_loc_num" class="anchor"></a><code><span><span class="keyword">val</span> stmt_loc_of_stmt_loc_num : 
  <span><span><span>(int, <a href="../../Middle/Stmt/Located/Non_recursive/index.html#type-t">Middle.Stmt.Located.Non_recursive.t</a>)</span> <span class="xref-unresolved">Core</span>.Map.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Stmt/Located/Non_recursive/index.html#type-t">Middle.Stmt.Located.Non_recursive.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-statement_stmt_loc_of_statement_stmt_loc_num"><a href="#val-statement_stmt_loc_of_statement_stmt_loc_num" class="anchor"></a><code><span><span class="keyword">val</span> statement_stmt_loc_of_statement_stmt_loc_num : 
  <span><span><span>(int, <a href="../../Middle/Stmt/Located/Non_recursive/index.html#type-t">Middle.Stmt.Located.Non_recursive.t</a>)</span> <span class="xref-unresolved">Core</span>.Map.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, int)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unnumbered_prog_of_numbered_prog"><a href="#val-unnumbered_prog_of_numbered_prog" class="anchor"></a><code><span><span class="keyword">val</span> unnumbered_prog_of_numbered_prog : 
  <span><span><span>(int, <a href="../../Middle/Stmt/Located/Non_recursive/index.html#type-t">Middle.Stmt.Located.Non_recursive.t</a>)</span> <span class="xref-unresolved">Core</span>.Map.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Middle/Stmt/Located/Non_recursive/index.html#type-t">Middle.Stmt.Located.Non_recursive.t</a>, <span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="../../Middle/Program/index.html#type-t">Middle.Program.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../Middle/Program/index.html#type-t">Middle.Program.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fwd_traverse_statement"><a href="#val-fwd_traverse_statement" class="anchor"></a><code><span><span class="keyword">val</span> fwd_traverse_statement : 
  <span><span><span>(<span class="type-var">'e</span>, <span class="type-var">'a</span>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">init</span>:<span class="type-var">'f</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'f</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'f</span> * <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'f</span> * <span><span>(<span class="type-var">'e</span>, <span class="type-var">'c</span>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span></span></code></div><div class="spec-doc"><p>A traversal that simultaneously accumulates a state (type 'f) and replaces the substatement values from ('a to 'c). Traversal is done in-order but ignores branching, e.g., and if's then block is followed by the else block rather than branching.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-vexpr_of_expr_exn"><a href="#val-vexpr_of_expr_exn" class="anchor"></a><code><span><span class="keyword">val</span> vexpr_of_expr_exn : <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Dataflow_types/index.html#type-vexpr">Dataflow_types.vexpr</a></span></code></div><div class="spec-doc"><p>Take a LHS expression from a general expression, throwing an exception if it can't be a LHS expression.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expr_var_set"><a href="#val-expr_var_set" class="anchor"></a><code><span><span class="keyword">val</span> expr_var_set : 
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Dataflow_types/index.html#type-vexpr">Dataflow_types.vexpr</a> * <a href="../../Middle/Expr/Typed/Meta/index.html#type-t">Middle.Expr.Typed.Meta.t</a>)</span> <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div><div class="spec-doc"><p>The set of variables in an expression, including inside an index. For use in RHS sets, not LHS assignment sets, except in a target term.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-index_var_set"><a href="#val-index_var_set" class="anchor"></a><code><span><span class="keyword">val</span> index_var_set : 
  <span><span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Index/index.html#type-t">Middle.Index.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Dataflow_types/index.html#type-vexpr">Dataflow_types.vexpr</a> * <a href="../../Middle/Expr/Typed/Meta/index.html#type-t">Middle.Expr.Typed.Meta.t</a>)</span> <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div><div class="spec-doc"><p>The set of variables in an index. For use in RHS sets, not LHS assignment sets, except in a target term</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expr_var_names_set"><a href="#val-expr_var_names_set" class="anchor"></a><code><span><span class="keyword">val</span> expr_var_names_set : <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div><div class="spec-doc"><p>Return the names of the variables in an expression.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stmt_rhs"><a href="#val-stmt_rhs" class="anchor"></a><code><span><span class="keyword">val</span> stmt_rhs : 
  <span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <span class="type-var">'s</span>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div><div class="spec-doc"><p>The set of variables that can affect the value or behavior of the expression, i.e. rhs. Using Set.Poly instead of ExprSet so that 'e can be polymorphic, it usually doesn't matter if there's duplication.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-union_map"><a href="#val-union_map" class="anchor"></a><code><span><span class="keyword">val</span> union_map : 
  <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Core</span>.Set.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Core</span>.Set.Poly.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div><div class="spec-doc"><p>This is a helper function equivalent to List.concat_map but for Sets</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stmt_rhs_var_set"><a href="#val-stmt_rhs_var_set" class="anchor"></a><code><span><span class="keyword">val</span> stmt_rhs_var_set : 
  <span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <span class="type-var">'s</span>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Dataflow_types/index.html#type-vexpr">Dataflow_types.vexpr</a> * <a href="../../Middle/Expr/Typed/Meta/index.html#type-t">Middle.Expr.Typed.Meta.t</a>)</span> <span class="xref-unresolved">Core</span>.Set.Poly.t</span></span></code></div><div class="spec-doc"><p>The set of variables in an expression, including inside an index. For use in RHS sets, not LHS assignment sets, except in a target term.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expr_assigned_var"><a href="#val-expr_assigned_var" class="anchor"></a><code><span><span class="keyword">val</span> expr_assigned_var : <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Dataflow_types/index.html#type-vexpr">Dataflow_types.vexpr</a></span></code></div><div class="spec-doc"><p>The variable being assigned to when the expression is the LHS</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-summation_terms"><a href="#val-summation_terms" class="anchor"></a><code><span><span class="keyword">val</span> summation_terms : <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> list</span></span></code></div><div class="spec-doc"><p>The list of terms in expression separated by a +</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-subst_expr"><a href="#val-subst_expr" class="anchor"></a><code><span><span class="keyword">val</span> subst_expr : 
  <span><span><span>(string, <a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>)</span> <span class="xref-unresolved">Core</span>.Map.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a></span></code></div><div class="spec-doc"><p>Substitute variables in an expression according to the provided Map.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-subst_stmt_base"><a href="#val-subst_stmt_base" class="anchor"></a><code><span><span class="keyword">val</span> subst_stmt_base : 
  <span><span><span>(string, <a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>)</span> <span class="xref-unresolved">Core</span>.Map.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <span class="type-var">'a</span>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <span class="type-var">'a</span>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span></span></code></div><div class="spec-doc"><p>Substitute variables occurring at the top level in statements according to the provided Map.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-subst_stmt"><a href="#val-subst_stmt" class="anchor"></a><code><span><span class="keyword">val</span> subst_stmt : 
  <span><span><span>(string, <a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>)</span> <span class="xref-unresolved">Core</span>.Map.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a></span></code></div><div class="spec-doc"><p>Substitute variables occurring anywhere in a statement according to the provided Map.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-name_subst_stmt"><a href="#val-name_subst_stmt" class="anchor"></a><code><span><span class="keyword">val</span> name_subst_stmt : 
  <span><span><span>(string, string)</span> <span class="xref-unresolved">Core</span>.Map.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Stmt/Located/index.html#type-t">Middle.Stmt.Located.t</a></span></code></div><div class="spec-doc"><p>Substitute subexpressions occurring anywhere in a statement according to the provided Map.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expr_subst_expr"><a href="#val-expr_subst_expr" class="anchor"></a><code><span><span class="keyword">val</span> expr_subst_expr : 
  <span><span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Expr/Typed/Map/index.html#type-t">Middle.Expr.Typed.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a></span></code></div><div class="spec-doc"><p>Substitute subexpressions in an expression according to the provided Map, trying to match on larger subexpressions before smaller ones.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expr_subst_stmt_base"><a href="#val-expr_subst_stmt_base" class="anchor"></a><code><span><span class="keyword">val</span> expr_subst_stmt_base : 
  <span><span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Expr/Typed/Map/index.html#type-t">Middle.Expr.Typed.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <span class="type-var">'a</span>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a>, <span class="type-var">'a</span>)</span> <a href="../../Middle/Stmt/Pattern/index.html#type-t">Middle.Stmt.Pattern.t</a></span></span></code></div><div class="spec-doc"><p>Substitute subexpressions occurring at the top level in statements according to the provided Map.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expr_depth"><a href="#val-expr_depth" class="anchor"></a><code><span><span class="keyword">val</span> expr_depth : <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Calculate how deeply nested an expression is.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_expr_ad_levels"><a href="#val-update_expr_ad_levels" class="anchor"></a><code><span><span class="keyword">val</span> update_expr_ad_levels : 
  <span><span>string <span class="xref-unresolved">Core</span>.Set.Poly.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a></span></code></div><div class="spec-doc"><p>Recompute all AD-levels in the metadata of an expression from the bottom up, making the variables in the first argument autodiffable</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cleanup_empty_stmts"><a href="#val-cleanup_empty_stmts" class="anchor"></a><code><span><span class="keyword">val</span> cleanup_empty_stmts : 
  <span><span><span><span>(<span class="type-var">'e</span>, <span class="type-var">'s</span>)</span> <a href="../../Middle/Stmt/index.html#type-t">Middle.Stmt.t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'e</span>, <span class="type-var">'s</span>)</span> <a href="../../Middle/Stmt/index.html#type-t">Middle.Stmt.t</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unsafe_unsized_to_sized_type"><a href="#val-unsafe_unsized_to_sized_type" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_unsized_to_sized_type : 
  <span><span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Type/index.html#type-t">Middle.Type.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Middle/Expr/Typed/index.html#type-t">Middle.Expr.Typed.t</a> <a href="../../Middle/Type/index.html#type-t">Middle.Type.t</a></span></span></code></div></div></div></body></html>
