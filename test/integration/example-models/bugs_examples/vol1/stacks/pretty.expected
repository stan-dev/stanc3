  $ ../../../../../../../install/default/bin/stanc --auto-format stacks_a_normal.stan
data {
  int<lower=0> N;
  int<lower=0> p;
  real Y[N];
  matrix[N, p] x;
}
transformed data {
  matrix[N, p] z;
  row_vector[p] mean_x;
  real sd_x[p];
  for (j in 1 : p) {
    mean_x[j] <- mean(col(x, j));
    sd_x[j] <- sd(col(x, j));
    for (i in 1 : N) 
      z[i, j] <- (x[i, j] - mean_x[j]) / sd_x[j];
  }
}
parameters {
  real beta0;
  vector[p] beta;
  real<lower=0> sigmasq;
}
transformed parameters {
  real<lower=0> sigma;
  vector[N] mu;
  sigma <- sqrt(sigmasq);
  mu <- beta0 + z * beta;
}
model {
  beta0 ~ normal(0, 316);
  beta ~ normal(0, 316);
  sigmasq ~ inv_gamma(.001, .001);
  Y ~ normal(mu, sigma);
}
generated quantities {
  real b0;
  vector[p] b;
  real outlier_3;
  real outlier_4;
  real outlier_21;
  for (j in 1 : p) 
    b[j] <- beta[j] / sd_x[j];
  b0 <- beta0 - mean_x * b;
  outlier_3 <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
  outlier_4 <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
  outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
}


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 1, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
         ^
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model a) normal error
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 2, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
         ^
     3:  # Model a) normal error
     4:  
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 3, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model a) normal error
         ^
     4:  
     5:  data {
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 18, column 15:
   -------------------------------------------------
    16:    real sd_x[p];
    17:    for (j in 1:p) { 
    18:      mean_x[j] <- mean(col(x,j)); 
                        ^
    19:      sd_x[j] <- sd(col(x,j)); 
    20:      for (i in 1:N)  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 19, column 13:
   -------------------------------------------------
    17:    for (j in 1:p) { 
    18:      mean_x[j] <- mean(col(x,j)); 
    19:      sd_x[j] <- sd(col(x,j)); 
                      ^
    20:      for (i in 1:N)  
    21:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 21, column 14:
   -------------------------------------------------
    19:      sd_x[j] <- sd(col(x,j)); 
    20:      for (i in 1:N)  
    21:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
                       ^
    22:    }
    23:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 34, column 9:
   -------------------------------------------------
    32:    real<lower=0> sigma;
    33:    vector[N] mu;
    34:    sigma <- sqrt(sigmasq);
                  ^
    35:    mu <- beta0 + z * beta;
    36:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 35, column 6:
   -------------------------------------------------
    33:    vector[N] mu;
    34:    sigma <- sqrt(sigmasq);
    35:    mu <- beta0 + z * beta;
               ^
    36:  }
    37:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 53, column 10:
   -------------------------------------------------
    51:  
    52:    for (j in 1:p)
    53:      b[j] <- beta[j] / sd_x[j];
                   ^
    54:    b0 <- beta0 - mean_x * b;
    55:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 54, column 6:
   -------------------------------------------------
    52:    for (j in 1:p)
    53:      b[j] <- beta[j] / sd_x[j];
    54:    b0 <- beta0 - mean_x * b;
               ^
    55:  
    56:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 56, column 14:
   -------------------------------------------------
    54:    b0 <- beta0 - mean_x * b;
    55:  
    56:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
                       ^
    57:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    58:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 57, column 14:
   -------------------------------------------------
    55:  
    56:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    57:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
                       ^
    58:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
    59:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_a_normal.stan', line 58, column 14:
   -------------------------------------------------
    56:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    57:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    58:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
                       ^
    59:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.

  $ ../../../../../../../install/default/bin/stanc --auto-format stacks_b_dexp.stan
data {
  int<lower=0> N;
  int<lower=0> p;
  real Y[N];
  matrix[N, p] x;
}
transformed data {
  matrix[N, p] z;
  row_vector[p] mean_x;
  real sd_x[p];
  for (j in 1 : p) {
    mean_x[j] <- mean(col(x, j));
    sd_x[j] <- sd(col(x, j));
    for (i in 1 : N) 
      z[i, j] <- (x[i, j] - mean_x[j]) / sd_x[j];
  }
}
parameters {
  real beta0;
  vector[p] beta;
  real<lower=0> sigmasq;
}
transformed parameters {
  real<lower=0> sigma;
  vector[N] mu;
  sigma <- sqrt(2) * sigmasq;
  mu <- beta0 + z * beta;
}
model {
  beta0 ~ normal(0, 316);
  beta ~ normal(0, 316);
  sigmasq ~ inv_gamma(.001, .001);
  Y ~ double_exponential(mu, sigmasq);
}
generated quantities {
  real b0;
  vector[p] b;
  real outlier_1;
  real outlier_3;
  real outlier_4;
  real outlier_21;
  for (j in 1 : p) 
    b[j] <- beta[j] / sd_x[j];
  b0 <- beta0 - mean_x * b;
  outlier_1 <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
  outlier_3 <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
  outlier_4 <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
  outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
}


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 1, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
         ^
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model b) double exponential error
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 2, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
         ^
     3:  # Model b) double exponential error
     4:  
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 3, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model b) double exponential error
         ^
     4:  
     5:  data {
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 18, column 15:
   -------------------------------------------------
    16:    real sd_x[p];
    17:    for (j in 1:p) { 
    18:      mean_x[j] <- mean(col(x,j)); 
                        ^
    19:      sd_x[j] <- sd(col(x,j)); 
    20:      for (i in 1:N)  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 19, column 13:
   -------------------------------------------------
    17:    for (j in 1:p) { 
    18:      mean_x[j] <- mean(col(x,j)); 
    19:      sd_x[j] <- sd(col(x,j)); 
                      ^
    20:      for (i in 1:N)  
    21:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 21, column 14:
   -------------------------------------------------
    19:      sd_x[j] <- sd(col(x,j)); 
    20:      for (i in 1:N)  
    21:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
                       ^
    22:    }
    23:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 35, column 9:
   -------------------------------------------------
    33:    vector[N] mu;
    34:  
    35:    sigma <- sqrt(2) * sigmasq;
                  ^
    36:    mu <- beta0 + z * beta;
    37:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 36, column 6:
   -------------------------------------------------
    34:  
    35:    sigma <- sqrt(2) * sigmasq;
    36:    mu <- beta0 + z * beta;
               ^
    37:  }
    38:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 55, column 10:
   -------------------------------------------------
    53:  
    54:    for (j in 1:p)
    55:      b[j] <- beta[j] / sd_x[j];
                   ^
    56:    b0 <- beta0 - mean_x * b;
    57:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 56, column 6:
   -------------------------------------------------
    54:    for (j in 1:p)
    55:      b[j] <- beta[j] / sd_x[j];
    56:    b0 <- beta0 - mean_x * b;
               ^
    57:  
    58:    outlier_1  <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 58, column 14:
   -------------------------------------------------
    56:    b0 <- beta0 - mean_x * b;
    57:  
    58:    outlier_1  <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
                       ^
    59:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    60:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 59, column 14:
   -------------------------------------------------
    57:  
    58:    outlier_1  <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
    59:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
                       ^
    60:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    61:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 60, column 14:
   -------------------------------------------------
    58:    outlier_1  <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
    59:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    60:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
                       ^
    61:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
    62:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_b_dexp.stan', line 61, column 14:
   -------------------------------------------------
    59:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    60:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    61:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
                       ^
    62:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.

  $ ../../../../../../../install/default/bin/stanc --auto-format stacks_c_t4.stan
data {
  int<lower=0> N;
  int<lower=0> p;
  real Y[N];
  matrix[N, p] x;
}
transformed data {
  matrix[N, p] z;
  row_vector[p] mean_x;
  real sd_x[p];
  real d;
  for (j in 1 : p) {
    mean_x[j] <- mean(col(x, j));
    sd_x[j] <- sd(col(x, j));
    for (i in 1 : N) 
      z[i, j] <- (x[i, j] - mean_x[j]) / sd_x[j];
  }
  d <- 4;
}
parameters {
  real beta0;
  vector[p] beta;
  real<lower=0> sigmasq;
}
transformed parameters {
  real<lower=0> sigma;
  vector[N] mu;
  sigma <- sqrt(d * sigmasq / (d - 2));
  mu <- beta0 + z * beta;
}
model {
  beta0 ~ normal(0, 316);
  beta ~ normal(0, 316);
  sigmasq ~ inv_gamma(.001, .001);
  Y ~ student_t(d, mu, sqrt(sigmasq));
}
generated quantities {
  real b0;
  vector[p] b;
  real outlier_3;
  real outlier_4;
  real outlier_21;
  for (j in 1 : p) 
    b[j] <- beta[j] / sd_x[j];
  b0 <- beta0 - mean_x * b;
  outlier_3 <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
  outlier_4 <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
  outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
}


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 1, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
         ^
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model c) t error
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 2, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
         ^
     3:  # Model c) t error
     4:  
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 3, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model c) t error
         ^
     4:  
     5:  data {
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 20, column 15:
   -------------------------------------------------
    18:  
    19:    for (j in 1:p) { 
    20:      mean_x[j] <- mean(col(x,j)); 
                        ^
    21:      sd_x[j] <- sd(col(x,j)); 
    22:      for (i in 1:N)  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 21, column 13:
   -------------------------------------------------
    19:    for (j in 1:p) { 
    20:      mean_x[j] <- mean(col(x,j)); 
    21:      sd_x[j] <- sd(col(x,j)); 
                      ^
    22:      for (i in 1:N)  
    23:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 23, column 14:
   -------------------------------------------------
    21:      sd_x[j] <- sd(col(x,j)); 
    22:      for (i in 1:N)  
    23:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
                       ^
    24:    }
    25:    d <- 4; // degrees of freedom for t
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 25, column 5:
   -------------------------------------------------
    23:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
    24:    }
    25:    d <- 4; // degrees of freedom for t
              ^
    26:  }
    27:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 38, column 9:
   -------------------------------------------------
    36:    vector[N] mu;
    37:  
    38:    sigma <- sqrt(d * sigmasq / (d-2)); // t errors on d degrees of freedom
                  ^
    39:    mu <- beta0 + z * beta; 
    40:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 39, column 6:
   -------------------------------------------------
    37:  
    38:    sigma <- sqrt(d * sigmasq / (d-2)); // t errors on d degrees of freedom
    39:    mu <- beta0 + z * beta; 
               ^
    40:  }
    41:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 57, column 10:
   -------------------------------------------------
    55:  
    56:    for (j in 1:p)
    57:      b[j] <- beta[j] / sd_x[j];
                   ^
    58:    b0 <- beta0 - mean_x * b;
    59:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 58, column 6:
   -------------------------------------------------
    56:    for (j in 1:p)
    57:      b[j] <- beta[j] / sd_x[j];
    58:    b0 <- beta0 - mean_x * b;
               ^
    59:  
    60:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 60, column 14:
   -------------------------------------------------
    58:    b0 <- beta0 - mean_x * b;
    59:  
    60:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
                       ^
    61:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    62:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 61, column 14:
   -------------------------------------------------
    59:  
    60:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    61:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
                       ^
    62:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
    63:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_c_t4.stan', line 62, column 14:
   -------------------------------------------------
    60:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    61:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    62:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
                       ^
    63:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.

  $ ../../../../../../../install/default/bin/stanc --auto-format stacks_d_normal_ridge.stan
data {
  int<lower=0> N;
  int<lower=0> p;
  real Y[N];
  matrix[N, p] x;
}
transformed data {
  matrix[N, p] z;
  row_vector[p] mean_x;
  real sd_x[p];
  for (j in 1 : p) {
    mean_x[j] <- mean(col(x, j));
    sd_x[j] <- sd(col(x, j));
    for (i in 1 : N) 
      z[i, j] <- (x[i, j] - mean_x[j]) / sd_x[j];
  }
}
parameters {
  real beta0;
  vector[p] beta;
  real<lower=0> sigmasq;
  real<lower=0> phi;
}
transformed parameters {
  real<lower=0> sigma;
  vector[N] mu;
  sigma <- sqrt(sigmasq);
  mu <- beta0 + z * beta;
}
model {
  beta0 ~ normal(0, 316);
  phi ~ gamma(0.01, 0.01);
  beta ~ normal(0, sqrt(phi));
  sigmasq ~ inv_gamma(.001, .001);
  Y ~ normal(mu, sigma);
}
generated quantities {
  real b0;
  vector[p] b;
  real outlier_3;
  real outlier_4;
  real outlier_21;
  for (j in 1 : p) 
    b[j] <- beta[j] / sd_x[j];
  b0 <- beta0 - mean_x * b;
  outlier_3 <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
  outlier_4 <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
  outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
}


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 1, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
         ^
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model d) normal error ridge regression
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 2, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
         ^
     3:  # Model d) normal error ridge regression
     4:  
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 3, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model d) normal error ridge regression
         ^
     4:  
     5:  data {
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 18, column 15:
   -------------------------------------------------
    16:    real sd_x[p];
    17:    for (j in 1:p) { 
    18:      mean_x[j] <- mean(col(x,j)); 
                        ^
    19:      sd_x[j] <- sd(col(x,j)); 
    20:      for (i in 1:N)  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 19, column 13:
   -------------------------------------------------
    17:    for (j in 1:p) { 
    18:      mean_x[j] <- mean(col(x,j)); 
    19:      sd_x[j] <- sd(col(x,j)); 
                      ^
    20:      for (i in 1:N)  
    21:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 21, column 14:
   -------------------------------------------------
    19:      sd_x[j] <- sd(col(x,j)); 
    20:      for (i in 1:N)  
    21:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
                       ^
    22:    }
    23:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 36, column 9:
   -------------------------------------------------
    34:    vector[N] mu;
    35:  
    36:    sigma <- sqrt(sigmasq);
                  ^
    37:    mu <- beta0 + z * beta;
    38:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 37, column 6:
   -------------------------------------------------
    35:  
    36:    sigma <- sqrt(sigmasq);
    37:    mu <- beta0 + z * beta;
               ^
    38:  }
    39:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 56, column 10:
   -------------------------------------------------
    54:  
    55:    for (j in 1:p)
    56:      b[j] <- beta[j] / sd_x[j];
                   ^
    57:    b0 <- beta0 - mean_x * b;
    58:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 57, column 6:
   -------------------------------------------------
    55:    for (j in 1:p)
    56:      b[j] <- beta[j] / sd_x[j];
    57:    b0 <- beta0 - mean_x * b;
               ^
    58:  
    59:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 59, column 14:
   -------------------------------------------------
    57:    b0 <- beta0 - mean_x * b;
    58:  
    59:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
                       ^
    60:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    61:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 60, column 14:
   -------------------------------------------------
    58:  
    59:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    60:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
                       ^
    61:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
    62:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_d_normal_ridge.stan', line 61, column 14:
   -------------------------------------------------
    59:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    60:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    61:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
                       ^
    62:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.

  $ ../../../../../../../install/default/bin/stanc --auto-format stacks_e_dexp_ridge.stan
data {
  int<lower=0> N;
  int<lower=0> p;
  real Y[N];
  matrix[N, p] x;
}
transformed data {
  real z[N, p];
  real mean_x[p];
  real sd_x[p];
  for (j in 1 : p) {
    mean_x[j] <- mean(col(x, j));
    sd_x[j] <- sd(col(x, j));
    for (i in 1 : N) 
      z[i, j] <- (x[i, j] - mean_x[j]) / sd_x[j];
  }
}
parameters {
  real beta0;
  real beta[p];
  real<lower=0> sigmasq;
  real<lower=0> phi;
}
transformed parameters {
  real<lower=0> sigma;
  real mu[N];
  sigma <- sqrt(2) * sigmasq;
  for (n in 1 : N) 
    mu[n] <- beta0 + beta[1] * z[n, 1] + beta[2] * z[n, 2]
             + beta[3] * z[n, 3];
}
model {
  beta0 ~ normal(0, 316);
  phi ~ gamma(0.01, 0.01);
  beta ~ normal(0, sqrt(phi));
  sigmasq ~ inv_gamma(.001, .001);
  for (n in 1 : N) 
    Y[n] ~ double_exponential(mu[n], sigmasq);
}
generated quantities {
  real b0;
  real b[p];
  real outlier_1;
  real outlier_3;
  real outlier_4;
  real outlier_21;
  for (j in 1 : p) 
    b[j] <- beta[j] / sd_x[j];
  b0 <- beta0 - b[1] * mean_x[1] - b[2] * mean_x[2] - b[3] * mean_x[3];
  outlier_1 <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
  outlier_3 <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
  outlier_4 <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
  outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
}


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 1, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
         ^
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model e) double exponential error ridge regression
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 2, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
         ^
     3:  # Model e) double exponential error ridge regression
     4:  
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 3, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model e) double exponential error ridge regression
         ^
     4:  
     5:  data {
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 18, column 15:
   -------------------------------------------------
    16:    real sd_x[p];
    17:    for (j in 1:p) { 
    18:      mean_x[j] <- mean(col(x,j)); 
                        ^
    19:      sd_x[j] <- sd(col(x,j)); 
    20:      for (i in 1:N)  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 19, column 13:
   -------------------------------------------------
    17:    for (j in 1:p) { 
    18:      mean_x[j] <- mean(col(x,j)); 
    19:      sd_x[j] <- sd(col(x,j)); 
                      ^
    20:      for (i in 1:N)  
    21:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 21, column 14:
   -------------------------------------------------
    19:      sd_x[j] <- sd(col(x,j)); 
    20:      for (i in 1:N)  
    21:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
                       ^
    22:    }
    23:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 36, column 9:
   -------------------------------------------------
    34:    real mu[N];
    35:  
    36:    sigma <- sqrt(2) * sigmasq;
                  ^
    37:    for (n in 1:N)
    38:      mu[n] <- beta0 + beta[1] * z[n, 1] + beta[2] * z[n, 2] + beta[3] * z[n, 3];
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 38, column 11:
   -------------------------------------------------
    36:    sigma <- sqrt(2) * sigmasq;
    37:    for (n in 1:N)
    38:      mu[n] <- beta0 + beta[1] * z[n, 1] + beta[2] * z[n, 2] + beta[3] * z[n, 3];
                    ^
    39:  }
    40:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 59, column 10:
   -------------------------------------------------
    57:  
    58:    for (j in 1:p)
    59:      b[j] <- beta[j] / sd_x[j];
                   ^
    60:    b0 <- beta0 - b[1] * mean_x[1] - b[2] * mean_x[2] - b[3] * mean_x[3];
    61:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 60, column 6:
   -------------------------------------------------
    58:    for (j in 1:p)
    59:      b[j] <- beta[j] / sd_x[j];
    60:    b0 <- beta0 - b[1] * mean_x[1] - b[2] * mean_x[2] - b[3] * mean_x[3];
               ^
    61:  
    62:    outlier_1  <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 62, column 14:
   -------------------------------------------------
    60:    b0 <- beta0 - b[1] * mean_x[1] - b[2] * mean_x[2] - b[3] * mean_x[3];
    61:  
    62:    outlier_1  <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
                       ^
    63:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    64:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 63, column 14:
   -------------------------------------------------
    61:  
    62:    outlier_1  <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
    63:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
                       ^
    64:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    65:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 64, column 14:
   -------------------------------------------------
    62:    outlier_1  <- step(fabs((Y[1] - mu[1]) / sigma) - 2.5);
    63:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    64:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
                       ^
    65:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
    66:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_e_dexp_ridge.stan', line 65, column 14:
   -------------------------------------------------
    63:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    64:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    65:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
                       ^
    66:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.

  $ ../../../../../../../install/default/bin/stanc --auto-format stacks_f_t4_ridge.stan
data {
  int<lower=0> N;
  int<lower=0> p;
  real Y[N];
  matrix[N, p] x;
}
transformed data {
  matrix[N, p] z;
  row_vector[p] mean_x;
  real sd_x[p];
  real d;
  for (j in 1 : p) {
    mean_x[j] <- mean(col(x, j));
    sd_x[j] <- sd(col(x, j));
    for (i in 1 : N) 
      z[i, j] <- (x[i, j] - mean_x[j]) / sd_x[j];
  }
  d <- 4;
}
parameters {
  real beta0;
  vector[p] beta;
  real<lower=0> sigmasq;
  real<lower=0> phi;
}
transformed parameters {
  real<lower=0> sigma;
  vector[N] mu;
  sigma <- sqrt(d * sigmasq / (d - 2));
  mu <- beta0 + z * beta;
}
model {
  beta0 ~ normal(0, 316);
  phi ~ gamma(0.01, 0.01);
  beta ~ normal(0, sqrt(phi));
  sigmasq ~ inv_gamma(.001, .001);
  Y ~ student_t(d, mu, sqrt(sigmasq));
}
generated quantities {
  real b0;
  vector[p] b;
  real outlier_1;
  real outlier_3;
  real outlier_4;
  real outlier_21;
  for (j in 1 : p) 
    b[j] <- beta[j] / sd_x[j];
  b0 <- beta0 - mean_x * b;
  outlier_1 <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
  outlier_3 <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
  outlier_4 <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
  outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
}


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 1, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
         ^
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model f) t error ridge regression
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 2, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
         ^
     3:  # Model f) t error ridge regression
     4:  
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 3, column 0:
   -------------------------------------------------
     1:  # Stacks: robust regression and ridge regression 
     2:  # http://mathstat.helsinki.fi/openbugs/Examples/Stacks.html
     3:  # Model f) t error ridge regression
         ^
     4:  
     5:  data {
   -------------------------------------------------

Comments beginning with # are deprecated. Please use // in place of # for line comments.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 20, column 15:
   -------------------------------------------------
    18:  
    19:    for (j in 1:p) { 
    20:      mean_x[j] <- mean(col(x,j)); 
                        ^
    21:      sd_x[j] <- sd(col(x,j)); 
    22:      for (i in 1:N)  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 21, column 13:
   -------------------------------------------------
    19:    for (j in 1:p) { 
    20:      mean_x[j] <- mean(col(x,j)); 
    21:      sd_x[j] <- sd(col(x,j)); 
                      ^
    22:      for (i in 1:N)  
    23:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 23, column 14:
   -------------------------------------------------
    21:      sd_x[j] <- sd(col(x,j)); 
    22:      for (i in 1:N)  
    23:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
                       ^
    24:    }
    25:    d <- 4; // degrees of freedom for t
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 25, column 5:
   -------------------------------------------------
    23:        z[i,j] <- (x[i,j] - mean_x[j]) / sd_x[j]; 
    24:    }
    25:    d <- 4; // degrees of freedom for t
              ^
    26:  }
    27:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 39, column 9:
   -------------------------------------------------
    37:    vector[N] mu;
    38:  
    39:    sigma <- sqrt(d * sigmasq / (d-2)); // t errors on d degrees of freedom
                  ^
    40:    mu <- beta0 + z * beta; 
    41:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 40, column 6:
   -------------------------------------------------
    38:  
    39:    sigma <- sqrt(d * sigmasq / (d-2)); // t errors on d degrees of freedom
    40:    mu <- beta0 + z * beta; 
               ^
    41:  }
    42:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 60, column 10:
   -------------------------------------------------
    58:  
    59:    for (j in 1:p)
    60:      b[j] <- beta[j] / sd_x[j];
                   ^
    61:    b0 <- beta0 - mean_x * b;
    62:  
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 61, column 6:
   -------------------------------------------------
    59:    for (j in 1:p)
    60:      b[j] <- beta[j] / sd_x[j];
    61:    b0 <- beta0 - mean_x * b;
               ^
    62:  
    63:    outlier_1  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 63, column 14:
   -------------------------------------------------
    61:    b0 <- beta0 - mean_x * b;
    62:  
    63:    outlier_1  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
                       ^
    64:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    65:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 64, column 14:
   -------------------------------------------------
    62:  
    63:    outlier_1  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    64:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
                       ^
    65:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    66:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 65, column 14:
   -------------------------------------------------
    63:    outlier_1  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    64:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    65:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
                       ^
    66:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
    67:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.


Warning: deprecated language construct used in 'stacks_f_t4_ridge.stan', line 66, column 14:
   -------------------------------------------------
    64:    outlier_3  <- step(fabs((Y[3] - mu[3]) / sigma) - 2.5);
    65:    outlier_4  <- step(fabs((Y[4] - mu[4]) / sigma) - 2.5);
    66:    outlier_21 <- step(fabs((Y[21] - mu[21]) / sigma) - 2.5);
                       ^
    67:  }
   -------------------------------------------------

assignment operator <- is deprecated in the Stan language; use = instead.

